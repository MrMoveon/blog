<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>聚合查询 | 前端开发笔记</title>
    <meta name="description" content="前端开发笔记">
    <link rel="icon" href="/blog/icon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.45e5a3ae.css" as="style"><link rel="preload" href="/blog/assets/js/app.ee223f02.js" as="script"><link rel="preload" href="/blog/assets/js/2.f364336e.js" as="script"><link rel="preload" href="/blog/assets/js/9.a8aca7d1.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.60d9a5c4.js"><link rel="prefetch" href="/blog/assets/js/11.9d12addb.js"><link rel="prefetch" href="/blog/assets/js/12.8ef0bd8a.js"><link rel="prefetch" href="/blog/assets/js/13.71ffc42f.js"><link rel="prefetch" href="/blog/assets/js/14.25b3510a.js"><link rel="prefetch" href="/blog/assets/js/15.c4d91af5.js"><link rel="prefetch" href="/blog/assets/js/16.948c6a33.js"><link rel="prefetch" href="/blog/assets/js/17.0e6c3b39.js"><link rel="prefetch" href="/blog/assets/js/18.5f7af77b.js"><link rel="prefetch" href="/blog/assets/js/19.3d23eaff.js"><link rel="prefetch" href="/blog/assets/js/20.472050f8.js"><link rel="prefetch" href="/blog/assets/js/21.daaff1eb.js"><link rel="prefetch" href="/blog/assets/js/22.ae3ff2ee.js"><link rel="prefetch" href="/blog/assets/js/23.06d58a4e.js"><link rel="prefetch" href="/blog/assets/js/24.8df026f6.js"><link rel="prefetch" href="/blog/assets/js/25.8fa3c5ac.js"><link rel="prefetch" href="/blog/assets/js/26.b9e79cc9.js"><link rel="prefetch" href="/blog/assets/js/27.0c29d378.js"><link rel="prefetch" href="/blog/assets/js/28.5c6b388b.js"><link rel="prefetch" href="/blog/assets/js/29.a0f69e48.js"><link rel="prefetch" href="/blog/assets/js/3.641e1028.js"><link rel="prefetch" href="/blog/assets/js/30.dc7fbcb3.js"><link rel="prefetch" href="/blog/assets/js/31.a0f54c32.js"><link rel="prefetch" href="/blog/assets/js/32.06b2a848.js"><link rel="prefetch" href="/blog/assets/js/33.1707ffb1.js"><link rel="prefetch" href="/blog/assets/js/34.4a894dbb.js"><link rel="prefetch" href="/blog/assets/js/35.380e3cca.js"><link rel="prefetch" href="/blog/assets/js/36.cbda8a08.js"><link rel="prefetch" href="/blog/assets/js/37.a4ee9d32.js"><link rel="prefetch" href="/blog/assets/js/38.9d939308.js"><link rel="prefetch" href="/blog/assets/js/39.0db069f8.js"><link rel="prefetch" href="/blog/assets/js/4.dd025489.js"><link rel="prefetch" href="/blog/assets/js/40.7207834f.js"><link rel="prefetch" href="/blog/assets/js/41.a0452c50.js"><link rel="prefetch" href="/blog/assets/js/42.2122454f.js"><link rel="prefetch" href="/blog/assets/js/43.8bb0a71b.js"><link rel="prefetch" href="/blog/assets/js/44.3e769886.js"><link rel="prefetch" href="/blog/assets/js/5.2cc523f9.js"><link rel="prefetch" href="/blog/assets/js/6.86e346f0.js"><link rel="prefetch" href="/blog/assets/js/7.d17b9335.js"><link rel="prefetch" href="/blog/assets/js/8.b2177cb3.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.45e5a3ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">前端开发笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/framework/jquery/" class="nav-link">jquery源码分析</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/" class="nav-link">vue最佳实践</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/mobile-base-template.html" class="nav-link">vue移动端模版</a></li><li class="dropdown-item"><!----> <a href="/blog/typescript/" class="nav-link">typescript</a></li><li class="dropdown-item"><!----> <a href="/blog/mina/" class="nav-link">微信小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tools/dd-utils.html" class="nav-link">自定义工具函数库</a></li><li class="dropdown-item"><!----> <a href="/blog/vscode-plugins/" class="nav-link">vscode常用插件</a></li><li class="dropdown-item"><!----> <a href="/blog/vuepress/" class="nav-link">vuepress</a></li><li class="dropdown-item"><!----> <a href="/blog/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/blog/mock/" class="nav-link">mock</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/" class="nav-link">工具函數</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/date.html" class="nav-link">日期函數</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mongoDB/" class="nav-link router-link-active">mongoDB学习</a></li><li class="dropdown-item"><!----> <a href="/blog/mongoDB/learning/aggregate.html" class="nav-link router-link-exact-active router-link-active">mongoDB aggregate</a></li><li class="dropdown-item"><!----> <a href="/blog/mongoDB/learning/mongoose.html" class="nav-link">mongoose</a></li><li class="dropdown-item"><!----> <a href="/blog/Redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">可视化</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/svg-canvas/svg.html" class="nav-link">svg</a></li><li class="dropdown-item"><!----> <a href="/blog/svg-canvas/canvas.html" class="nav-link">canvas</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">electron</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/electron/" class="nav-link">electron 基础</a></li><li class="dropdown-item"><!----> <a href="/blog/electron/meos.html" class="nav-link">electron 进阶</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">egg</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/egg/" class="nav-link">egg最佳实践</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask.html" class="nav-link">egg ask项目后端</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask-client.html" class="nav-link">egg ask项目前端</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask-client.html" class="nav-link">egg ask项目管理平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">uniapp</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/uniapp/xiaomi.html" class="nav-link">项目实战-xiaomi</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/scaffold/" class="nav-link">手撸一个前端脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/gulp_multi_pages/" class="nav-link">gulp多页面应用脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/regexp/" class="nav-link">正则学习</a></li><li class="dropdown-item"><!----> <a href="/blog/webapp/" class="nav-link">webapp</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/MrMoveon/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/framework/jquery/" class="nav-link">jquery源码分析</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/" class="nav-link">vue最佳实践</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/mobile-base-template.html" class="nav-link">vue移动端模版</a></li><li class="dropdown-item"><!----> <a href="/blog/typescript/" class="nav-link">typescript</a></li><li class="dropdown-item"><!----> <a href="/blog/mina/" class="nav-link">微信小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tools/dd-utils.html" class="nav-link">自定义工具函数库</a></li><li class="dropdown-item"><!----> <a href="/blog/vscode-plugins/" class="nav-link">vscode常用插件</a></li><li class="dropdown-item"><!----> <a href="/blog/vuepress/" class="nav-link">vuepress</a></li><li class="dropdown-item"><!----> <a href="/blog/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/blog/mock/" class="nav-link">mock</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/" class="nav-link">工具函數</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/date.html" class="nav-link">日期函數</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mongoDB/" class="nav-link router-link-active">mongoDB学习</a></li><li class="dropdown-item"><!----> <a href="/blog/mongoDB/learning/aggregate.html" class="nav-link router-link-exact-active router-link-active">mongoDB aggregate</a></li><li class="dropdown-item"><!----> <a href="/blog/mongoDB/learning/mongoose.html" class="nav-link">mongoose</a></li><li class="dropdown-item"><!----> <a href="/blog/Redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">可视化</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/svg-canvas/svg.html" class="nav-link">svg</a></li><li class="dropdown-item"><!----> <a href="/blog/svg-canvas/canvas.html" class="nav-link">canvas</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">electron</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/electron/" class="nav-link">electron 基础</a></li><li class="dropdown-item"><!----> <a href="/blog/electron/meos.html" class="nav-link">electron 进阶</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">egg</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/egg/" class="nav-link">egg最佳实践</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask.html" class="nav-link">egg ask项目后端</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask-client.html" class="nav-link">egg ask项目前端</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask-client.html" class="nav-link">egg ask项目管理平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">uniapp</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/uniapp/xiaomi.html" class="nav-link">项目实战-xiaomi</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/scaffold/" class="nav-link">手撸一个前端脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/gulp_multi_pages/" class="nav-link">gulp多页面应用脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/regexp/" class="nav-link">正则学习</a></li><li class="dropdown-item"><!----> <a href="/blog/webapp/" class="nav-link">webapp</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/MrMoveon/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>聚合查询</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/mongoDB/learning/aggregate.html#聚合管道" class="sidebar-link">聚合管道</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/mongoDB/learning/aggregate.html#aggregation-管道操作符与表达式" class="sidebar-link">Aggregation  管道操作符与表达式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/mongoDB/learning/aggregate.html#数据模拟" class="sidebar-link">数据模拟</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/mongoDB/learning/aggregate.html#project" class="sidebar-link">$project</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/mongoDB/learning/aggregate.html#match" class="sidebar-link">$match</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/mongoDB/learning/aggregate.html#group" class="sidebar-link">$group</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/mongoDB/learning/aggregate.html#sort" class="sidebar-link">$sort</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/mongoDB/learning/aggregate.html#limit" class="sidebar-link">$limit</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/mongoDB/learning/aggregate.html#skip" class="sidebar-link">$skip</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/mongoDB/learning/aggregate.html#lookup-表关联" class="sidebar-link">$lookup  表关联</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="聚合查询"><a href="#聚合查询" aria-hidden="true" class="header-anchor">#</a> 聚合查询</h1> <h2 id="聚合管道"><a href="#聚合管道" aria-hidden="true" class="header-anchor">#</a> 聚合管道</h2> <p>使用聚合管道可以对集合中的文档进行变换和组合</p> <p>实际项目：表关联查询、数据的统计</p> <p>MongoDB 中使用 db.COLLECTION_NAME.aggregate([{<stage>},...]) 方法来构建和使用聚合管道。先看下官网给的实例，感受一下聚合管道的用法。</stage></p> <p><img src="/blog/assets/img/8.275523a2.jpg" alt="安装"></p> <h2 id="aggregation-管道操作符与表达式"><a href="#aggregation-管道操作符与表达式" aria-hidden="true" class="header-anchor">#</a> Aggregation  管道操作符与表达式</h2> <table><thead><tr><th>管道操作符</th> <th>Description</th></tr></thead> <tbody><tr><td>$project</td> <td>增加、删除、重命名字段</td></tr> <tr><td>$match</td> <td>条件匹配。只满足条件的文档才能进入下一阶段</td></tr> <tr><td>$limit</td> <td>限制结果的数量</td></tr> <tr><td>$skip</td> <td>跳过文档的数量</td></tr> <tr><td>$sort</td> <td>条件排序</td></tr> <tr><td>$group</td> <td>条件组合结果 统计</td></tr> <tr><td>$lookup</td> <td>操作符 用以引入其它集合的数</td></tr></tbody></table> <p><strong>SQL 和 和 NOSQL  对比</strong></p> <table><thead><tr><th>WHERE</th> <th>$match</th></tr></thead> <tbody><tr><td>GROUP BY</td> <td>$group</td></tr> <tr><td>HAVING</td> <td>$match</td></tr> <tr><td>SELECT</td> <td>$project</td></tr> <tr><td>ORDER BY</td> <td>$sort</td></tr> <tr><td>LIMIT</td> <td>$limit</td></tr> <tr><td>SUM()</td> <td>$sum</td></tr> <tr><td>COUNT()</td> <td>$sum</td></tr> <tr><td>join</td> <td>$lookup</td></tr></tbody></table> <p><strong>管道表达式:</strong></p> <p>管道操作符作为“键”,所对应的“值”叫做管道表达式。</p> <p>例如{$match:{status:&quot;A&quot;}}，$match 称为管道操作符，而 status:&quot;A&quot;称为管道表达式，是管道操作符的操作数(Operand)。</p> <p>每个管道表达式是一个文档结构，它是由字段名、字段值、和一些表达式操作符组成的</p> <p><img src="/blog/assets/img/9.3347862a.jpg" alt="安装"></p> <h2 id="数据模拟"><a href="#数据模拟" aria-hidden="true" class="header-anchor">#</a> 数据模拟</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>db.order.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;1&quot;</span>,<span class="token string">&quot;uid&quot;</span>:10,<span class="token string">&quot;trade_no&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;111&quot;</span>,<span class="token string">&quot;all_price&quot;</span>:100,<span class="token string">&quot;all_num&quot;</span>:2<span class="token punctuation">}</span><span class="token punctuation">)</span>
db.order.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2&quot;</span>,<span class="token string">&quot;uid&quot;</span>:7,<span class="token string">&quot;trade_no&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;222&quot;</span>,<span class="token string">&quot;all_price&quot;</span>:90,<span class="token string">&quot;all_num&quot;</span>:2<span class="token punctuation">}</span><span class="token punctuation">)</span>
db.order.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;3&quot;</span>,<span class="token string">&quot;uid&quot;</span>:9,<span class="token string">&quot;trade_no&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;333&quot;</span>,<span class="token string">&quot;all_price&quot;</span>:20,<span class="token string">&quot;all_num&quot;</span>:6<span class="token punctuation">}</span><span class="token punctuation">)</span>
db.order_item.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;1&quot;</span>,<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;商品鼠标 1&quot;</span>,<span class="token string">&quot;price&quot;</span>:50,num:1<span class="token punctuation">}</span><span class="token punctuation">)</span>
db.order_item.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;1&quot;</span>,<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;商品键盘 2&quot;</span>,<span class="token string">&quot;price&quot;</span>:50,num:1<span class="token punctuation">}</span><span class="token punctuation">)</span>
db.order_item.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;1&quot;</span>,<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;商品键盘 3&quot;</span>,<span class="token string">&quot;price&quot;</span>:0,num:1<span class="token punctuation">}</span><span class="token punctuation">)</span>
db.order_item.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2&quot;</span>,<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;牛奶&quot;</span>,<span class="token string">&quot;price&quot;</span>:50,num:1<span class="token punctuation">}</span><span class="token punctuation">)</span>
db.order_item.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2&quot;</span>,<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;酸奶&quot;</span>,<span class="token string">&quot;price&quot;</span>:40,num:1<span class="token punctuation">}</span><span class="token punctuation">)</span>
db.order_item.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;3&quot;</span>,<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;矿泉水&quot;</span>,<span class="token string">&quot;price&quot;</span>:2,num:5<span class="token punctuation">}</span><span class="token punctuation">)</span>
db.order_item.insert<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;3&quot;</span>,<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;毛巾&quot;</span>,<span class="token string">&quot;price&quot;</span>:10,num:1<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="/blog/assets/img/10.dd7694d9.jpg" alt="数据"></p> <h2 id="project"><a href="#project" aria-hidden="true" class="header-anchor">#</a> $project</h2> <p>修改文档的结构，可以用来重命名、增加或删除文档中的字段</p> <p>要求查找 order 只返回文档中 trade_no 和 all_price 字段</p> <div class="language-bash extra-class"><pre class="language-bash"><code>db.order.aggregate<span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
       <span class="token variable">$project</span>:<span class="token punctuation">{</span>trade_no:1,all_price:1<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a88&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;trade_no&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;111&quot;</span>, <span class="token string">&quot;all_price&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a89&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;trade_no&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;222&quot;</span>, <span class="token string">&quot;all_price&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">90</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a8a&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;trade_no&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;333&quot;</span>, <span class="token string">&quot;all_price&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="match"><a href="#match" aria-hidden="true" class="header-anchor">#</a> $match</h2> <p>用于过滤文档。用法类似于 find() 方法中的参数</p> <p>查询all_price&gt;=90的数据</p> <div class="language-bash extra-class"><pre class="language-bash"><code>db.order.aggregate<span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
    <span class="token variable">$project</span>:<span class="token punctuation">{</span>trade_no:1,all_price:1<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
    	<span class="token variable">$match</span>:<span class="token punctuation">{</span>all_price:<span class="token punctuation">{</span><span class="token variable">$gte</span>:90<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a88&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;trade_no&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;111&quot;</span>, <span class="token string">&quot;all_price&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a89&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;trade_no&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;222&quot;</span>, <span class="token string">&quot;all_price&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">90</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="group"><a href="#group" aria-hidden="true" class="header-anchor">#</a> $group</h2> <p>将集合中的文档进行分组，可用于统计结果。</p> <p>统计每个订单的订单数量，按照订单号分组</p> <div class="language-bash extra-class"><pre class="language-bash"><code>db.order_item.aggregate<span class="token punctuation">(</span><span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		<span class="token variable">$group</span>:<span class="token punctuation">{</span>
			_id:<span class="token string">&quot;<span class="token variable">$order_id</span>&quot;</span>,total:<span class="token punctuation">{</span><span class="token variable">$sum</span><span class="token builtin class-name">:</span><span class="token string">&quot;<span class="token variable">$num</span>&quot;</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>, <span class="token string">&quot;total&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;3&quot;</span>, <span class="token string">&quot;total&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">6</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;2&quot;</span>, <span class="token string">&quot;total&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="sort"><a href="#sort" aria-hidden="true" class="header-anchor">#</a> $sort</h2> <p>将集合中的文档进行排序</p> <div class="language-bash extra-class"><pre class="language-bash"><code>db.order.aggregate<span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
    <span class="token variable">$project</span>:<span class="token punctuation">{</span>trade_no:1,all_price:1<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
    	<span class="token variable">$match</span>:<span class="token punctuation">{</span>all_price:<span class="token punctuation">{</span><span class="token variable">$gte</span>:90<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
    	<span class="token variable">$sort</span>:<span class="token punctuation">{</span>all_price:1<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a89&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;trade_no&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;222&quot;</span>, <span class="token string">&quot;all_price&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">90</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a88&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;trade_no&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;111&quot;</span>, <span class="token string">&quot;all_price&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="limit"><a href="#limit" aria-hidden="true" class="header-anchor">#</a> $limit</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>db.order.aggregate<span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
    <span class="token variable">$project</span>:<span class="token punctuation">{</span>trade_no:1,all_price:1<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
    	<span class="token variable">$match</span>:<span class="token punctuation">{</span>all_price:<span class="token punctuation">{</span><span class="token variable">$gte</span>:90<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
    	<span class="token variable">$sort</span>:<span class="token punctuation">{</span>all_price:1<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
    	<span class="token variable">$limit</span>:1
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 结果</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a89&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;trade_no&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;222&quot;</span>, <span class="token string">&quot;all_price&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">90</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="skip"><a href="#skip" aria-hidden="true" class="header-anchor">#</a> $skip</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>db.order.aggregate<span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
    <span class="token variable">$project</span>:<span class="token punctuation">{</span>trade_no:1,all_price:1<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
    	<span class="token variable">$match</span>:<span class="token punctuation">{</span>all_price:<span class="token punctuation">{</span><span class="token variable">$gte</span>:90<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
    	<span class="token variable">$sort</span>:<span class="token punctuation">{</span>all_price:1<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
    	<span class="token variable">$skip</span>:1
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 结果</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a88&quot;</span><span class="token punctuation">)</span>, <span class="token string">&quot;trade_no&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;111&quot;</span>, <span class="token string">&quot;all_price&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="lookup-表关联"><a href="#lookup-表关联" aria-hidden="true" class="header-anchor">#</a> $lookup  表关联</h2> <div class="language- extra-class"><pre class="language-text"><code>db.order.aggregate([
	{
		$lookup:{
			from:&quot;order_item&quot;,
			localField:&quot;order_id&quot;,
			foreignField:&quot;order_id&quot;,
			as:&quot;items&quot;
		}
	}
])



# result
{
	&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a88&quot;),
	&quot;order_id&quot;: &quot;1&quot;,
	&quot;uid&quot;: 10,
	&quot;trade_no&quot;: &quot;111&quot;,
	&quot;all_price&quot;: 100,
	&quot;all_num&quot;: 2,
	&quot;items&quot;: [{
		&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a8b&quot;),
		&quot;order_id&quot;: &quot;1&quot;,
		&quot;title&quot;: &quot;商品鼠标 1&quot;,
		&quot;price&quot;: 50,
		&quot;num&quot;: 1
	}, {
		&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a8c&quot;),
		&quot;order_id&quot;: &quot;1&quot;,
		&quot;title&quot;: &quot;商品键盘 2&quot;,
		&quot;price&quot;: 50,
		&quot;num&quot;: 1
	}, {
		&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a8d&quot;),
		&quot;order_id&quot;: &quot;1&quot;,
		&quot;title&quot;: &quot;商品键盘 3&quot;,
		&quot;price&quot;: 0,
		&quot;num&quot;: 1
	}]
} {
	&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a89&quot;),
	&quot;order_id&quot;: &quot;2&quot;,
	&quot;uid&quot;: 7,
	&quot;trade_no&quot;: &quot;222&quot;,
	&quot;all_price&quot;: 90,
	&quot;all_num&quot;: 2,
	&quot;items&quot;: [{
		&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a8e&quot;),
		&quot;order_id&quot;: &quot;2&quot;,
		&quot;title&quot;: &quot;牛奶&quot;,
		&quot;price&quot;: 50,
		&quot;num&quot;: 1
	}, {
		&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a8f&quot;),
		&quot;order_id&quot;: &quot;2&quot;,
		&quot;title&quot;: &quot;酸奶&quot;,
		&quot;price&quot;: 40,
		&quot;num&quot;: 1
	}]
} {
	&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a8a&quot;),
	&quot;order_id&quot;: &quot;3&quot;,
	&quot;uid&quot;: 9,
	&quot;trade_no&quot;: &quot;333&quot;,
	&quot;all_price&quot;: 20,
	&quot;all_num&quot;: 6,
	&quot;items&quot;: [{
		&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a90&quot;),
		&quot;order_id&quot;: &quot;3&quot;,
		&quot;title&quot;: &quot;矿泉水&quot;,
		&quot;price&quot;: 2,
		&quot;num&quot;: 5
	}, {
		&quot;_id&quot;: ObjectId(&quot;5f968225df74d5d668c61a91&quot;),
		&quot;order_id&quot;: &quot;3&quot;,
		&quot;title&quot;: &quot;毛巾&quot;,
		&quot;price&quot;: 10,
		&quot;num&quot;: 1
	}]
}
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 条件查询，排序，显示固定字段</span>
db.order.aggregate<span class="token punctuation">(</span><span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		<span class="token variable">$lookup</span>:<span class="token punctuation">{</span>
			from:<span class="token string">&quot;order_item&quot;</span>,
			localField:<span class="token string">&quot;order_id&quot;</span>,
			foreignField:<span class="token string">&quot;order_id&quot;</span>,
			as:<span class="token string">&quot;items&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>,
	<span class="token punctuation">{</span><span class="token variable">$project</span>:<span class="token punctuation">{</span>trade_no:1,all_price:1,items:1<span class="token punctuation">}</span><span class="token punctuation">}</span>,
	<span class="token punctuation">{</span><span class="token variable">$sort</span>:<span class="token punctuation">{</span>all_price:1<span class="token punctuation">}</span><span class="token punctuation">}</span>,
	<span class="token punctuation">{</span><span class="token variable">$match</span>:<span class="token punctuation">{</span>all_price:<span class="token punctuation">{</span><span class="token variable">$gte</span>:90<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token comment"># 结果</span>
<span class="token punctuation">{</span>
	<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a89&quot;</span><span class="token punctuation">)</span>,
	<span class="token string">&quot;trade_no&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;222&quot;</span>,
	<span class="token string">&quot;all_price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">90</span>,
	<span class="token string">&quot;items&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
		<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a8e&quot;</span><span class="token punctuation">)</span>,
		<span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2&quot;</span>,
		<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;牛奶&quot;</span>,
		<span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">50</span>,
		<span class="token string">&quot;num&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>, <span class="token punctuation">{</span>
		<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a8f&quot;</span><span class="token punctuation">)</span>,
		<span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2&quot;</span>,
		<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;酸奶&quot;</span>,
		<span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">40</span>,
		<span class="token string">&quot;num&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span> <span class="token punctuation">{</span>
	<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a88&quot;</span><span class="token punctuation">)</span>,
	<span class="token string">&quot;trade_no&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;111&quot;</span>,
	<span class="token string">&quot;all_price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">100</span>,
	<span class="token string">&quot;items&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
		<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a8b&quot;</span><span class="token punctuation">)</span>,
		<span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>,
		<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;商品鼠标 1&quot;</span>,
		<span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">50</span>,
		<span class="token string">&quot;num&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>, <span class="token punctuation">{</span>
		<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a8c&quot;</span><span class="token punctuation">)</span>,
		<span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>,
		<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;商 品键盘 2&quot;</span>,
		<span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">50</span>,
		<span class="token string">&quot;num&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>, <span class="token punctuation">{</span>
		<span class="token string">&quot;_id&quot;</span><span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;5f968225df74d5d668c61a8d&quot;</span><span class="token punctuation">)</span>,
		<span class="token string">&quot;order_id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1&quot;</span>,
		<span class="token string">&quot;title&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;商品键盘 3&quot;</span>,
		<span class="token string">&quot;price&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
		<span class="token string">&quot;num&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">10/27/2020, 3:31:10 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.ee223f02.js" defer></script><script src="/blog/assets/js/2.f364336e.js" defer></script><script src="/blog/assets/js/9.a8aca7d1.js" defer></script>
  </body>
</html>
