<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端开发笔记</title>
    <meta name="description" content="前端开发笔记">
    <link rel="icon" href="/blog/icon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.45e5a3ae.css" as="style"><link rel="preload" href="/blog/assets/js/app.ee223f02.js" as="script"><link rel="preload" href="/blog/assets/js/2.f364336e.js" as="script"><link rel="preload" href="/blog/assets/js/36.cbda8a08.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.60d9a5c4.js"><link rel="prefetch" href="/blog/assets/js/11.9d12addb.js"><link rel="prefetch" href="/blog/assets/js/12.8ef0bd8a.js"><link rel="prefetch" href="/blog/assets/js/13.71ffc42f.js"><link rel="prefetch" href="/blog/assets/js/14.25b3510a.js"><link rel="prefetch" href="/blog/assets/js/15.c4d91af5.js"><link rel="prefetch" href="/blog/assets/js/16.948c6a33.js"><link rel="prefetch" href="/blog/assets/js/17.0e6c3b39.js"><link rel="prefetch" href="/blog/assets/js/18.5f7af77b.js"><link rel="prefetch" href="/blog/assets/js/19.3d23eaff.js"><link rel="prefetch" href="/blog/assets/js/20.472050f8.js"><link rel="prefetch" href="/blog/assets/js/21.daaff1eb.js"><link rel="prefetch" href="/blog/assets/js/22.ae3ff2ee.js"><link rel="prefetch" href="/blog/assets/js/23.06d58a4e.js"><link rel="prefetch" href="/blog/assets/js/24.8df026f6.js"><link rel="prefetch" href="/blog/assets/js/25.8fa3c5ac.js"><link rel="prefetch" href="/blog/assets/js/26.b9e79cc9.js"><link rel="prefetch" href="/blog/assets/js/27.0c29d378.js"><link rel="prefetch" href="/blog/assets/js/28.5c6b388b.js"><link rel="prefetch" href="/blog/assets/js/29.a0f69e48.js"><link rel="prefetch" href="/blog/assets/js/3.641e1028.js"><link rel="prefetch" href="/blog/assets/js/30.dc7fbcb3.js"><link rel="prefetch" href="/blog/assets/js/31.a0f54c32.js"><link rel="prefetch" href="/blog/assets/js/32.06b2a848.js"><link rel="prefetch" href="/blog/assets/js/33.1707ffb1.js"><link rel="prefetch" href="/blog/assets/js/34.4a894dbb.js"><link rel="prefetch" href="/blog/assets/js/35.380e3cca.js"><link rel="prefetch" href="/blog/assets/js/37.a4ee9d32.js"><link rel="prefetch" href="/blog/assets/js/38.9d939308.js"><link rel="prefetch" href="/blog/assets/js/39.0db069f8.js"><link rel="prefetch" href="/blog/assets/js/4.dd025489.js"><link rel="prefetch" href="/blog/assets/js/40.7207834f.js"><link rel="prefetch" href="/blog/assets/js/41.a0452c50.js"><link rel="prefetch" href="/blog/assets/js/42.2122454f.js"><link rel="prefetch" href="/blog/assets/js/43.8bb0a71b.js"><link rel="prefetch" href="/blog/assets/js/44.3e769886.js"><link rel="prefetch" href="/blog/assets/js/5.2cc523f9.js"><link rel="prefetch" href="/blog/assets/js/6.86e346f0.js"><link rel="prefetch" href="/blog/assets/js/7.d17b9335.js"><link rel="prefetch" href="/blog/assets/js/8.b2177cb3.js"><link rel="prefetch" href="/blog/assets/js/9.a8aca7d1.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.45e5a3ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">前端开发笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/framework/jquery/" class="nav-link">jquery源码分析</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/" class="nav-link">vue最佳实践</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/mobile-base-template.html" class="nav-link">vue移动端模版</a></li><li class="dropdown-item"><!----> <a href="/blog/typescript/" class="nav-link">typescript</a></li><li class="dropdown-item"><!----> <a href="/blog/mina/" class="nav-link">微信小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tools/dd-utils.html" class="nav-link">自定义工具函数库</a></li><li class="dropdown-item"><!----> <a href="/blog/vscode-plugins/" class="nav-link">vscode常用插件</a></li><li class="dropdown-item"><!----> <a href="/blog/vuepress/" class="nav-link">vuepress</a></li><li class="dropdown-item"><!----> <a href="/blog/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/blog/mock/" class="nav-link">mock</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/" class="nav-link router-link-exact-active router-link-active">工具函數</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/date.html" class="nav-link">日期函數</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mongoDB/" class="nav-link">mongoDB学习</a></li><li class="dropdown-item"><!----> <a href="/blog/mongoDB/learning/aggregate.html" class="nav-link">mongoDB aggregate</a></li><li class="dropdown-item"><!----> <a href="/blog/mongoDB/learning/mongoose.html" class="nav-link">mongoose</a></li><li class="dropdown-item"><!----> <a href="/blog/Redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">可视化</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/svg-canvas/svg.html" class="nav-link">svg</a></li><li class="dropdown-item"><!----> <a href="/blog/svg-canvas/canvas.html" class="nav-link">canvas</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">electron</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/electron/" class="nav-link">electron 基础</a></li><li class="dropdown-item"><!----> <a href="/blog/electron/meos.html" class="nav-link">electron 进阶</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">egg</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/egg/" class="nav-link">egg最佳实践</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask.html" class="nav-link">egg ask项目后端</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask-client.html" class="nav-link">egg ask项目前端</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask-client.html" class="nav-link">egg ask项目管理平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">uniapp</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/uniapp/xiaomi.html" class="nav-link">项目实战-xiaomi</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/scaffold/" class="nav-link">手撸一个前端脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/gulp_multi_pages/" class="nav-link">gulp多页面应用脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/regexp/" class="nav-link">正则学习</a></li><li class="dropdown-item"><!----> <a href="/blog/webapp/" class="nav-link">webapp</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/MrMoveon/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/framework/jquery/" class="nav-link">jquery源码分析</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/" class="nav-link">vue最佳实践</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/mobile-base-template.html" class="nav-link">vue移动端模版</a></li><li class="dropdown-item"><!----> <a href="/blog/typescript/" class="nav-link">typescript</a></li><li class="dropdown-item"><!----> <a href="/blog/mina/" class="nav-link">微信小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tools/dd-utils.html" class="nav-link">自定义工具函数库</a></li><li class="dropdown-item"><!----> <a href="/blog/vscode-plugins/" class="nav-link">vscode常用插件</a></li><li class="dropdown-item"><!----> <a href="/blog/vuepress/" class="nav-link">vuepress</a></li><li class="dropdown-item"><!----> <a href="/blog/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/blog/mock/" class="nav-link">mock</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/" class="nav-link router-link-exact-active router-link-active">工具函數</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/date.html" class="nav-link">日期函數</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mongoDB/" class="nav-link">mongoDB学习</a></li><li class="dropdown-item"><!----> <a href="/blog/mongoDB/learning/aggregate.html" class="nav-link">mongoDB aggregate</a></li><li class="dropdown-item"><!----> <a href="/blog/mongoDB/learning/mongoose.html" class="nav-link">mongoose</a></li><li class="dropdown-item"><!----> <a href="/blog/Redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">可视化</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/svg-canvas/svg.html" class="nav-link">svg</a></li><li class="dropdown-item"><!----> <a href="/blog/svg-canvas/canvas.html" class="nav-link">canvas</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">electron</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/electron/" class="nav-link">electron 基础</a></li><li class="dropdown-item"><!----> <a href="/blog/electron/meos.html" class="nav-link">electron 进阶</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">egg</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/egg/" class="nav-link">egg最佳实践</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask.html" class="nav-link">egg ask项目后端</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask-client.html" class="nav-link">egg ask项目前端</a></li><li class="dropdown-item"><!----> <a href="/blog/egg/ask-client.html" class="nav-link">egg ask项目管理平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">uniapp</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/uniapp/xiaomi.html" class="nav-link">项目实战-xiaomi</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/scaffold/" class="nav-link">手撸一个前端脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/gulp_multi_pages/" class="nav-link">gulp多页面应用脚手架</a></li><li class="dropdown-item"><!----> <a href="/blog/regexp/" class="nav-link">正则学习</a></li><li class="dropdown-item"><!----> <a href="/blog/webapp/" class="nav-link">webapp</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/MrMoveon/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/tools/#正则校验check工具函数" class="sidebar-link">正则校验check工具函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/tools/#验证不能包含字母" class="sidebar-link">验证不能包含字母</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证中文和数字" class="sidebar-link">验证中文和数字</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证邮政编码-中国" class="sidebar-link">验证邮政编码(中国)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证微信号，6至20位，以字母开头，字母，数字，减号，下划线" class="sidebar-link">验证微信号，6至20位，以字母开头，字母，数字，减号，下划线</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证16进制颜色" class="sidebar-link">验证16进制颜色</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证火车车次" class="sidebar-link">验证火车车次</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证手机机身码-imei" class="sidebar-link">验证手机机身码(IMEI)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证必须带端口号的网址-或ip" class="sidebar-link">验证必须带端口号的网址(或ip)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证网址-支持端口和-参数-和-参数" class="sidebar-link">验证网址(支持端口和&quot;?+参数&quot;和&quot;#+参数)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证统一社会信用代码" class="sidebar-link">验证统一社会信用代码</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证迅雷链接" class="sidebar-link">验证迅雷链接</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证ed2k链接-宽松匹配" class="sidebar-link">验证ed2k链接(宽松匹配)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证磁力链接-宽松匹配" class="sidebar-link">验证磁力链接(宽松匹配)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证子网掩码" class="sidebar-link">验证子网掩码</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证linux-文件夹-路径" class="sidebar-link">验证linux&quot;文件夹&quot;路径</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证linux-文件-路径" class="sidebar-link">验证linux&quot;文件&quot;路径</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证window-文件夹-路径" class="sidebar-link">验证window&quot;文件夹&quot;路径</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证window下-文件-路径" class="sidebar-link">验证window下&quot;文件&quot;路径</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证股票代码-a股" class="sidebar-link">验证股票代码(A股)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证版本号格式必须为x-y-z" class="sidebar-link">验证版本号格式必须为X.Y.Z</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证银行卡号（10到30位-覆盖对公-私账户-参考微信支付）" class="sidebar-link">验证银行卡号（10到30位, 覆盖对公/私账户, 参考微信支付）</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证中文姓名" class="sidebar-link">验证中文姓名</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证英文姓名" class="sidebar-link">验证英文姓名</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证车牌号-新能源" class="sidebar-link">验证车牌号(新能源)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证车牌号-非新能源" class="sidebar-link">验证车牌号(非新能源)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证车牌号-新能源-非新能源" class="sidebar-link">验证车牌号(新能源+非新能源)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证手机号中国-严谨-根据工信部2019年最新公布的手机号段" class="sidebar-link">验证手机号中国(严谨), 根据工信部2019年最新公布的手机号段</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证手机号中国-宽松-只要是13-14-15-16-17-18-19开头即可" class="sidebar-link">验证手机号中国(宽松), 只要是13,14,15,16,17,18,19开头即可</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证email-邮箱" class="sidebar-link">验证email(邮箱)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证座机电话-国内-如-0341-86091234" class="sidebar-link">验证座机电话(国内),如: 0341-86091234</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证身份证号-1代-15位数字" class="sidebar-link">验证身份证号(1代,15位数字)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证身份证号-2代-18位数字-最后一位是校验位-可能为数字或字符x" class="sidebar-link">验证身份证号(2代,18位数字),最后一位是校验位,可能为数字或字符X</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证身份证号-支持1-2代-15位-18位数字" class="sidebar-link">验证身份证号, 支持1/2代(15位/18位数字)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证护照（包含香港、澳门）" class="sidebar-link">验证护照（包含香港、澳门）</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证帐号是否合法-字母开头，允许5-16字节，允许字母数字下划线组合" class="sidebar-link">验证帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线组合</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证中文-汉字" class="sidebar-link">验证中文/汉字</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证小数" class="sidebar-link">验证小数</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证数字" class="sidebar-link">验证数字</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证qq号格式" class="sidebar-link">验证qq号格式</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证数字和字母组成" class="sidebar-link">验证数字和字母组成</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证英文字母" class="sidebar-link">验证英文字母</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证大写英文字母" class="sidebar-link">验证大写英文字母</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#验证小写英文字母" class="sidebar-link">验证小写英文字母</a></li></ul></li><li><a href="/blog/tools/#浏览器操作相关browser工具函数" class="sidebar-link">浏览器操作相关browser工具函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/tools/#返回当前url" class="sidebar-link">返回当前url</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取url参数（第一种）" class="sidebar-link">获取url参数（第一种）</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取url参数（第二种）" class="sidebar-link">获取url参数（第二种）</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#修改url中的参数" class="sidebar-link">修改url中的参数</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#删除url中指定的参数" class="sidebar-link">删除url中指定的参数</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取窗口可视范围的高度" class="sidebar-link">获取窗口可视范围的高度</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取窗口可视范围宽度" class="sidebar-link">获取窗口可视范围宽度</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取窗口宽度" class="sidebar-link">获取窗口宽度</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取窗口尺寸" class="sidebar-link">获取窗口尺寸</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取滚动条距顶部高度" class="sidebar-link">获取滚动条距顶部高度</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取滚动条距左边的高度" class="sidebar-link">获取滚动条距左边的高度</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#开启全屏" class="sidebar-link">开启全屏</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#关闭全屏" class="sidebar-link">关闭全屏</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#返回当前滚动条位置" class="sidebar-link">返回当前滚动条位置</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#滚动到指定元素区域" class="sidebar-link">滚动到指定元素区域</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#平滑滚动到页面顶部" class="sidebar-link">平滑滚动到页面顶部</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#http跳转https" class="sidebar-link">http跳转https</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#检查页面底部是否可见" class="sidebar-link">检查页面底部是否可见</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#打开一个窗口" class="sidebar-link">打开一个窗口</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#自适应页面（rem）" class="sidebar-link">自适应页面（rem）</a></li></ul></li><li><a href="/blog/tools/#日期工具date工具函数" class="sidebar-link">日期工具date工具函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tools/#浏览器存储相关storage工具函数" class="sidebar-link">浏览器存储相关storage工具函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/tools/#localstorage-存贮" class="sidebar-link">localStorage 存贮</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#localstorage-获取" class="sidebar-link">localStorage 获取</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#localstorage-移除" class="sidebar-link">localStorage 移除</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#localstorage-存贮某一段时间失效" class="sidebar-link">localStorage 存贮某一段时间失效</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#sessionstorage-存贮" class="sidebar-link">sessionStorage 存贮</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#sessionstorage-获取" class="sidebar-link">sessionStorage 获取</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#sessionstorage-删除" class="sidebar-link">sessionStorage 删除</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#sessionstorage-存贮某一段时间失效" class="sidebar-link">sessionStorage 存贮某一段时间失效</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#cookie-存贮" class="sidebar-link">cookie 存贮</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#cookie-获取" class="sidebar-link">cookie 获取</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#cookie-删除" class="sidebar-link">cookie 删除</a></li></ul></li><li><a href="/blog/tools/#更多的工具函数" class="sidebar-link">更多的工具函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/tools/#金钱格式化，三位加逗号" class="sidebar-link">金钱格式化，三位加逗号</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#截取字符串并加省略号" class="sidebar-link">截取字符串并加省略号</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取文件base64编码" class="sidebar-link">获取文件base64编码</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#b转换到kb-mb-gb并保留两位小数" class="sidebar-link">B转换到KB,MB,GB并保留两位小数</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#base64转file" class="sidebar-link">base64转file</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#base64转blob" class="sidebar-link">base64转blob</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#blob转file" class="sidebar-link">blob转file</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#file转base64" class="sidebar-link">file转base64</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#根据pid生成树形结构" class="sidebar-link">根据pid生成树形结构</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#查询数组中是否存在某个元素并返回元素第一次出现的下标" class="sidebar-link">查询数组中是否存在某个元素并返回元素第一次出现的下标</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#windows根据详细版本号判断当前系统名称" class="sidebar-link">Windows根据详细版本号判断当前系统名称</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#判断手机是andoird还是ios" class="sidebar-link">判断手机是Andoird还是IOS</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#函数防抖" class="sidebar-link">函数防抖</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#函数节流" class="sidebar-link">函数节流</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#判断数据类型" class="sidebar-link">判断数据类型</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#生成指定范围随机数" class="sidebar-link">生成指定范围随机数</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#数组乱序" class="sidebar-link">数组乱序</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#数组交集" class="sidebar-link">数组交集</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#数组中某元素出现的次数" class="sidebar-link">数组中某元素出现的次数</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#加法函数（精度丢失问题）" class="sidebar-link">加法函数（精度丢失问题）</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#减法函数（精度丢失问题）" class="sidebar-link">减法函数（精度丢失问题）</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#除法函数（精度丢失问题）" class="sidebar-link">除法函数（精度丢失问题）</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#乘法函数（精度丢失问题）" class="sidebar-link">乘法函数（精度丢失问题）</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#递归优化（尾递归）" class="sidebar-link">递归优化（尾递归）</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#生成随机整数" class="sidebar-link">生成随机整数</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#去除空格" class="sidebar-link">去除空格</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#大小写转换" class="sidebar-link">大小写转换</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#随机16进制颜色-hexcolor" class="sidebar-link">随机16进制颜色 hexColor</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#随机16进制颜色-randomhexcolorcode" class="sidebar-link">随机16进制颜色 randomHexColorCode</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#转义html-防xss攻击" class="sidebar-link">转义html(防XSS攻击)</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#检测移动-pc设备" class="sidebar-link">检测移动/PC设备</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#隐藏所有指定标签" class="sidebar-link">隐藏所有指定标签</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#返回指定元素的生效样式" class="sidebar-link">返回指定元素的生效样式</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#检查是否包含子元素" class="sidebar-link">检查是否包含子元素</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#数字超过规定大小加上加号“-”，如数字超过99显示99" class="sidebar-link">数字超过规定大小加上加号“+”，如数字超过99显示99+</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#根据object对象的path路径获取值" class="sidebar-link">根据object对象的path路径获取值</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#获取数据类型" class="sidebar-link">获取数据类型</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#判断两个元素是否相等" class="sidebar-link">判断两个元素是否相等</a></li><li class="sidebar-sub-header"><a href="/blog/tools/#数组去重" class="sidebar-link">数组去重</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>在我们日常开发的时候，可能会遇到各种各样的需求，但是自己一时半会儿可能找不到合适的办法去解决。书到用时方恨少，下面的这些JavaScript的工具函数可能就会派上大用场了，我们可以进行复用，提高我们的工作效率。</p> <p>我把下面的方法都大致分了个类放在了我的GitHub上。大家可以clone下来直接使用，也可以在需要用到时在里面去查找，善用ctrl+F。</p> <p>GitHub地址（https://github.com/XmanLin/MyUtils）</p> <p>这个仓库也会持更新的，如果里面没有，但是需要用到的工具函数，大家也可以在issues提出来，说不定就帮到了别人哟~</p> <h2 id="正则校验check工具函数"><a href="#正则校验check工具函数" aria-hidden="true" class="header-anchor">#</a> 正则校验check工具函数</h2> <p>这里的正则表达式主要参考了any-rule。</p> <h3 id="验证不能包含字母"><a href="#验证不能包含字母" aria-hidden="true" class="header-anchor">#</a> 验证不能包含字母</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isNoWord</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[^A-Za-z]*$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证中文和数字"><a href="#验证中文和数字" aria-hidden="true" class="header-anchor">#</a> 验证中文和数字</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isCHNAndEN</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^((?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])|(\d))+$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证邮政编码-中国"><a href="#验证邮政编码-中国" aria-hidden="true" class="header-anchor">#</a> 验证邮政编码(中国)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isPostcode</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(0[1-7]|1[0-356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[0-5]|8[013-6])\d{4}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证微信号，6至20位，以字母开头，字母，数字，减号，下划线"><a href="#验证微信号，6至20位，以字母开头，字母，数字，减号，下划线" aria-hidden="true" class="header-anchor">#</a> 验证微信号，6至20位，以字母开头，字母，数字，减号，下划线</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isWeChatNum</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[a-zA-Z][-_a-zA-Z0-9]{5,19}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证16进制颜色"><a href="#验证16进制颜色" aria-hidden="true" class="header-anchor">#</a> 验证16进制颜色</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isColor16</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证火车车次"><a href="#验证火车车次" aria-hidden="true" class="header-anchor">#</a> 验证火车车次</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isTrainNum</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[GCDZTSPKXLY1-9]\d{1,4}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证手机机身码-imei"><a href="#验证手机机身码-imei" aria-hidden="true" class="header-anchor">#</a> 验证手机机身码(IMEI)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isIMEI</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^\d{15,17}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证必须带端口号的网址-或ip"><a href="#验证必须带端口号的网址-或ip" aria-hidden="true" class="header-anchor">#</a> 验证必须带端口号的网址(或ip)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isHttpAndPort</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^((ht|f)tps?:\/\/)?[\w-]+(\.[\w-]+)+:\d{1,5}\/?$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证网址-支持端口和-参数-和-参数"><a href="#验证网址-支持端口和-参数-和-参数" aria-hidden="true" class="header-anchor">#</a> 验证网址(支持端口和&quot;?+参数&quot;和&quot;#+参数)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isRightWebsite</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:/~+#-]*[\w@?^=%&amp;/~+#-])?$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证统一社会信用代码"><a href="#验证统一社会信用代码" aria-hidden="true" class="header-anchor">#</a> 验证统一社会信用代码</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isCreditCode</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[0-9A-HJ-NPQRTUWXY]{2}\d{6}[0-9A-HJ-NPQRTUWXY]{10}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证迅雷链接"><a href="#验证迅雷链接" aria-hidden="true" class="header-anchor">#</a> 验证迅雷链接</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isThunderLink</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^thunderx?:\/\/[a-zA-Z\d]+=$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证ed2k链接-宽松匹配"><a href="#验证ed2k链接-宽松匹配" aria-hidden="true" class="header-anchor">#</a> 验证ed2k链接(宽松匹配)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">ised2k</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^ed2k:\/\/\|file\|.+\|\/$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证磁力链接-宽松匹配"><a href="#验证磁力链接-宽松匹配" aria-hidden="true" class="header-anchor">#</a> 验证磁力链接(宽松匹配)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isMagnet</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^magnet:\?xt=urn:btih:[0-9a-fA-F]{40,}.*$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证子网掩码"><a href="#验证子网掩码" aria-hidden="true" class="header-anchor">#</a> 验证子网掩码</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isSubnetMask</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(?:\d{1,2}|1\d\d|2[0-4]\d|25[0-5])(?:\.(?:\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){3}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证linux-文件夹-路径"><a href="#验证linux-文件夹-路径" aria-hidden="true" class="header-anchor">#</a> 验证linux&quot;文件夹&quot;路径</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isLinuxFolderPath</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(\/[^/]+)+\/?$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证linux-文件-路径"><a href="#验证linux-文件-路径" aria-hidden="true" class="header-anchor">#</a> 验证linux&quot;文件&quot;路径</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isLinuxFilePath</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(\/[^/]+)+$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证window-文件夹-路径"><a href="#验证window-文件夹-路径" aria-hidden="true" class="header-anchor">#</a> 验证window&quot;文件夹&quot;路径</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isWindowsFolderPath</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[a-zA-Z]:\\(?:\w+\\?)*$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证window下-文件-路径"><a href="#验证window下-文件-路径" aria-hidden="true" class="header-anchor">#</a> 验证window下&quot;文件&quot;路径</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isWindowsFilePath</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[a-zA-Z]:\\(?:\w+\\)*\w+\.\w+$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证股票代码-a股"><a href="#验证股票代码-a股" aria-hidden="true" class="header-anchor">#</a> 验证股票代码(A股)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isAShare</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(s[hz]|S[HZ])(000[\d]{3}|002[\d]{3}|300[\d]{3}|600[\d]{3}|60[\d]{4})$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证版本号格式必须为x-y-z"><a href="#验证版本号格式必须为x-y-z" aria-hidden="true" class="header-anchor">#</a> 验证版本号格式必须为X.Y.Z</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isVersion</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^\d+(?:\.\d+){2}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
​<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">js
### 验证视频链接地址（视频格式可按需增删）

​</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>js
<span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isVideoUrl</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^https?:\/\/(.+\/)+.+(\.(swf|avi|flv|mpg|rm|mov|wav|asf|3gp|mkv|rmvb|mp4))$/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
​<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">js
### 验证图片链接地址（图片格式可按需增删）

​</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>js
<span class="token comment">/**
 *  @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isImageUrl</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^https?:\/\/(.+\/)+.+(\.(gif|png|jpg|jpeg|webp|svg|psd|bmp|tif))$/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证银行卡号（10到30位-覆盖对公-私账户-参考微信支付）"><a href="#验证银行卡号（10到30位-覆盖对公-私账户-参考微信支付）" aria-hidden="true" class="header-anchor">#</a> 验证银行卡号（10到30位, 覆盖对公/私账户, 参考微信支付）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isAccountNumber</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[1-9]\d{9,29}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证中文姓名"><a href="#验证中文姓名" aria-hidden="true" class="header-anchor">#</a> 验证中文姓名</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isChineseName</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(?:[\u4e00-\u9fa5·]{2,16})$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证英文姓名"><a href="#验证英文姓名" aria-hidden="true" class="header-anchor">#</a> 验证英文姓名</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isEnglishName</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/(^[a-zA-Z]{1}[a-zA-Z\s]{0,20}[a-zA-Z]{1}$)/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证车牌号-新能源"><a href="#验证车牌号-新能源" aria-hidden="true" class="header-anchor">#</a> 验证车牌号(新能源)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isLicensePlateNumberNER</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-HJ-NP-Z]{1}(([0-9]{5}[DF])|([DF][A-HJ-NP-Z0-9][0-9]{4}))$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证车牌号-非新能源"><a href="#验证车牌号-非新能源" aria-hidden="true" class="header-anchor">#</a> 验证车牌号(非新能源)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isLicensePlateNumberNNER</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-HJ-NP-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证车牌号-新能源-非新能源"><a href="#验证车牌号-新能源-非新能源" aria-hidden="true" class="header-anchor">#</a> 验证车牌号(新能源+非新能源)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isLicensePlateNumber</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(?:[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-HJ-NP-Z]{1}(?:(?:[0-9]{5}[DF])|(?:[DF](?:[A-HJ-NP-Z0-9])[0-9]{4})))|(?:[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9 挂学警港澳]{1})$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证手机号中国-严谨-根据工信部2019年最新公布的手机号段"><a href="#验证手机号中国-严谨-根据工信部2019年最新公布的手机号段" aria-hidden="true" class="header-anchor">#</a> 验证手机号中国(严谨), 根据工信部2019年最新公布的手机号段</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isMPStrict</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证手机号中国-宽松-只要是13-14-15-16-17-18-19开头即可"><a href="#验证手机号中国-宽松-只要是13-14-15-16-17-18-19开头即可" aria-hidden="true" class="header-anchor">#</a> 验证手机号中国(宽松), 只要是13,14,15,16,17,18,19开头即可</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isMPRelaxed</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(?:(?:\+|00)86)?1[3-9]\d{9}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证email-邮箱"><a href="#验证email-邮箱" aria-hidden="true" class="header-anchor">#</a> 验证email(邮箱)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isEmail</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[a-zA-Z0-9.!#$%&amp;'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证座机电话-国内-如-0341-86091234"><a href="#验证座机电话-国内-如-0341-86091234" aria-hidden="true" class="header-anchor">#</a> 验证座机电话(国内),如: 0341-86091234</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isLandlineTelephone</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/\d{3}-\d{8}|\d{4}-\d{7}/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证身份证号-1代-15位数字"><a href="#验证身份证号-1代-15位数字" aria-hidden="true" class="header-anchor">#</a> 验证身份证号(1代,15位数字)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isIDCardOld</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证身份证号-2代-18位数字-最后一位是校验位-可能为数字或字符x"><a href="#验证身份证号-2代-18位数字-最后一位是校验位-可能为数字或字符x" aria-hidden="true" class="header-anchor">#</a> 验证身份证号(2代,18位数字),最后一位是校验位,可能为数字或字符X</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isIDCardNew</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}[\dXx]$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证身份证号-支持1-2代-15位-18位数字"><a href="#验证身份证号-支持1-2代-15位-18位数字" aria-hidden="true" class="header-anchor">#</a> 验证身份证号, 支持1/2代(15位/18位数字)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isIDCard</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/(^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$)|(^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$)/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证护照（包含香港、澳门）"><a href="#验证护照（包含香港、澳门）" aria-hidden="true" class="header-anchor">#</a> 验证护照（包含香港、澳门）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isPassport</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/(^[EeKkGgDdSsPpHh]\d{8}$)|(^(([Ee][a-fA-F])|([DdSsPp][Ee])|([Kk][Jj])|([Mm][Aa])|(1[45]))\d{7}$)/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证帐号是否合法-字母开头，允许5-16字节，允许字母数字下划线组合"><a href="#验证帐号是否合法-字母开头，允许5-16字节，允许字母数字下划线组合" aria-hidden="true" class="header-anchor">#</a> 验证帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线组合</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isWebAccount</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[a-zA-Z]\w{4,15}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证中文-汉字"><a href="#验证中文-汉字" aria-hidden="true" class="header-anchor">#</a> 验证中文/汉字</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isChineseCharacter</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^(?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])+$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证小数"><a href="#验证小数" aria-hidden="true" class="header-anchor">#</a> 验证小数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isDecimal</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^\d+\.\d+$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证数字"><a href="#验证数字" aria-hidden="true" class="header-anchor">#</a> 验证数字</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isNumber</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^\d{1,}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证qq号格式"><a href="#验证qq号格式" aria-hidden="true" class="header-anchor">#</a> 验证qq号格式</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isQQNum</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[1-9][0-9]{4,10}$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证数字和字母组成"><a href="#验证数字和字母组成" aria-hidden="true" class="header-anchor">#</a> 验证数字和字母组成</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isNumAndStr</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[A-Za-z0-9]+$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证英文字母"><a href="#验证英文字母" aria-hidden="true" class="header-anchor">#</a> 验证英文字母</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isEnglish</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[a-zA-Z]+$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证大写英文字母"><a href="#验证大写英文字母" aria-hidden="true" class="header-anchor">#</a> 验证大写英文字母</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isCapital</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[A-Z]+$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="验证小写英文字母"><a href="#验证小写英文字母" aria-hidden="true" class="header-anchor">#</a> 验证小写英文字母</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isLowercase</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token regex">/^[a-z]+$/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="浏览器操作相关browser工具函数"><a href="#浏览器操作相关browser工具函数" aria-hidden="true" class="header-anchor">#</a> 浏览器操作相关browser工具函数</h2> <h3 id="返回当前url"><a href="#返回当前url" aria-hidden="true" class="header-anchor">#</a> 返回当前url</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">currentURL</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
</code></pre></div><h3 id="获取url参数（第一种）"><a href="#获取url参数（第一种）" aria-hidden="true" class="header-anchor">#</a> 获取url参数（第一种）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {*} name
 * @param {*} origin
 */</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUrlParam</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> origin <span class="token operator">=</span> <span class="token keyword">null</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;(^|&amp;)&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>origin <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        r <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        r <span class="token operator">=</span> origin<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取url参数（第二种）"><a href="#获取url参数（第二种）" aria-hidden="true" class="header-anchor">#</a> 获取url参数（第二种）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {*} name
 * @param {*} origin
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUrlParams</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> origin <span class="token operator">=</span> <span class="token keyword">null</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
    <span class="token keyword">let</span> temp1 <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> pram <span class="token operator">=</span> temp1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> keyValue <span class="token operator">=</span> pram<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> keyValue<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> item <span class="token operator">=</span> keyValue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> key <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> value <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="修改url中的参数"><a href="#修改url中的参数" aria-hidden="true" class="header-anchor">#</a> 修改url中的参数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } paramName
 * @param { string } replaceWith
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">replaceParamVal</span><span class="token punctuation">(</span><span class="token parameter">paramName<span class="token punctuation">,</span>replaceWith</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> oUrl <span class="token operator">=</span> location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> re<span class="token operator">=</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'/('</span><span class="token operator">+</span> paramName<span class="token operator">+</span><span class="token string">'=)([^&amp;]*)/gi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    location<span class="token punctuation">.</span>href <span class="token operator">=</span> oUrl<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span>paramName<span class="token operator">+</span><span class="token string">'='</span><span class="token operator">+</span>replaceWith<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="删除url中指定的参数"><a href="#删除url中指定的参数" aria-hidden="true" class="header-anchor">#</a> 删除url中指定的参数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } name
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">funcUrlDel</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> loca <span class="token operator">=</span>location<span class="token punctuation">;</span>
    <span class="token keyword">var</span> baseUrl <span class="token operator">=</span> loca<span class="token punctuation">.</span>origin <span class="token operator">+</span> loca<span class="token punctuation">.</span>pathname <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> query <span class="token operator">=</span> loca<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> arr <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            obj<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">delete</span> obj<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span> baseUrl <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[\&quot;\{\}]/g</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\:/g</span><span class="token punctuation">,</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\,/g</span><span class="token punctuation">,</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> url
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取窗口可视范围的高度"><a href="#获取窗口可视范围的高度" aria-hidden="true" class="header-anchor">#</a> 获取窗口可视范围的高度</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getClientHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> clientHeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        clientHeight <span class="token operator">=</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight <span class="token operator">&lt;</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span> <span class="token operator">?</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight <span class="token punctuation">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        clientHeight <span class="token operator">=</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight <span class="token operator">&gt;</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span> <span class="token operator">?</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight <span class="token punctuation">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> clientHeight<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取窗口可视范围宽度"><a href="#获取窗口可视范围宽度" aria-hidden="true" class="header-anchor">#</a> 获取窗口可视范围宽度</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getPageViewWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> d <span class="token operator">=</span> document<span class="token punctuation">,</span>
        a <span class="token operator">=</span> d<span class="token punctuation">.</span>compatMode <span class="token operator">==</span> <span class="token string">&quot;BackCompat&quot;</span> <span class="token operator">?</span> d<span class="token punctuation">.</span>body <span class="token punctuation">:</span> d<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取窗口宽度"><a href="#获取窗口宽度" aria-hidden="true" class="header-anchor">#</a> 获取窗口宽度</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getPageWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> g <span class="token operator">=</span> document<span class="token punctuation">,</span>
        a <span class="token operator">=</span> g<span class="token punctuation">.</span>body<span class="token punctuation">,</span>
        f <span class="token operator">=</span> g<span class="token punctuation">.</span>documentElement<span class="token punctuation">,</span>
        d <span class="token operator">=</span> g<span class="token punctuation">.</span>compatMode <span class="token operator">==</span> <span class="token string">&quot;BackCompat&quot;</span> <span class="token operator">?</span> a <span class="token punctuation">:</span> g<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>scrollWidth<span class="token punctuation">,</span> a<span class="token punctuation">.</span>scrollWidth<span class="token punctuation">,</span> d<span class="token punctuation">.</span>clientWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取窗口尺寸"><a href="#获取窗口尺寸" aria-hidden="true" class="header-anchor">#</a> 获取窗口尺寸</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getViewportOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            w<span class="token punctuation">:</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>
            h<span class="token punctuation">:</span> window<span class="token punctuation">.</span>innerHeight
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// ie8及其以下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">===</span> <span class="token string">&quot;BackCompat&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 怪异模式</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                w<span class="token punctuation">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span>
                h<span class="token punctuation">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 标准模式</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                w<span class="token punctuation">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span>
                h<span class="token punctuation">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取滚动条距顶部高度"><a href="#获取滚动条距顶部高度" aria-hidden="true" class="header-anchor">#</a> 获取滚动条距顶部高度</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getPageScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> document<span class="token punctuation">;</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> a<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取滚动条距左边的高度"><a href="#获取滚动条距左边的高度" aria-hidden="true" class="header-anchor">#</a> 获取滚动条距左边的高度</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getPageScrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> document<span class="token punctuation">;</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollLeft <span class="token operator">||</span> a<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="开启全屏"><a href="#开启全屏" aria-hidden="true" class="header-anchor">#</a> 开启全屏</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {*} element
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">launchFullscreen</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>requestFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        element<span class="token punctuation">.</span><span class="token function">requestFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>mozRequestFullScreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        element<span class="token punctuation">.</span><span class="token function">mozRequestFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>msRequestFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        element<span class="token punctuation">.</span><span class="token function">msRequestFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>webkitRequestFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        element<span class="token punctuation">.</span><span class="token function">webkitRequestFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="关闭全屏"><a href="#关闭全屏" aria-hidden="true" class="header-anchor">#</a> 关闭全屏</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">exitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>exitFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">exitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>msExitFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">msExitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>mozCancelFullScreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">mozCancelFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>webkitExitFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">webkitExitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="返回当前滚动条位置"><a href="#返回当前滚动条位置" aria-hidden="true" class="header-anchor">#</a> 返回当前滚动条位置</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getScrollPosition</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el <span class="token operator">=</span> window</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> el<span class="token punctuation">.</span>pageXOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageXOffset <span class="token punctuation">:</span> el<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> el<span class="token punctuation">.</span>pageYOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageYOffset <span class="token punctuation">:</span> el<span class="token punctuation">.</span>scrollTop
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="滚动到指定元素区域"><a href="#滚动到指定元素区域" aria-hidden="true" class="header-anchor">#</a> 滚动到指定元素区域</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">smoothScroll</span> <span class="token operator">=</span> <span class="token parameter">element</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        behavior<span class="token punctuation">:</span> <span class="token string">'smooth'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="平滑滚动到页面顶部"><a href="#平滑滚动到页面顶部" aria-hidden="true" class="header-anchor">#</a> 平滑滚动到页面顶部</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">scrollToTop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> c <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>scrollToTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> c <span class="token operator">-</span> c <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="http跳转https"><a href="#http跳转https" aria-hidden="true" class="header-anchor">#</a> http跳转https</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">httpsRedirect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>location<span class="token punctuation">.</span>protocol <span class="token operator">!==</span> <span class="token string">'https:'</span><span class="token punctuation">)</span> location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'https://'</span> <span class="token operator">+</span> location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'//'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="检查页面底部是否可见"><a href="#检查页面底部是否可见" aria-hidden="true" class="header-anchor">#</a> 检查页面底部是否可见</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">bottomVisible</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">+</span> window<span class="token punctuation">.</span>scrollY <span class="token operator">&gt;=</span>
        <span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="打开一个窗口"><a href="#打开一个窗口" aria-hidden="true" class="header-anchor">#</a> 打开一个窗口</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } url
 * @param { string } windowName
 * @param { number } width
 * @param { number } height
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">openWindow</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> windowName<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">)</span> <span class="token operator">-</span> width <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">)</span> <span class="token operator">-</span> height <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> isMSIE <span class="token operator">=</span> navigator<span class="token punctuation">.</span>appName <span class="token operator">==</span> <span class="token string">&quot;Microsoft Internet Explorer&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isMSIE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token string">&quot;resizable=1,location=no,scrollbars=no,width=&quot;</span><span class="token punctuation">;</span>
        p <span class="token operator">=</span> p <span class="token operator">+</span> width<span class="token punctuation">;</span>
        p <span class="token operator">=</span> p <span class="token operator">+</span> <span class="token string">&quot;,height=&quot;</span><span class="token punctuation">;</span>
        p <span class="token operator">=</span> p <span class="token operator">+</span> height<span class="token punctuation">;</span>
        p <span class="token operator">=</span> p <span class="token operator">+</span> <span class="token string">&quot;,left=&quot;</span><span class="token punctuation">;</span>
        p <span class="token operator">=</span> p <span class="token operator">+</span> x<span class="token punctuation">;</span>
        p <span class="token operator">=</span> p <span class="token operator">+</span> <span class="token string">&quot;,top=&quot;</span><span class="token punctuation">;</span>
        p <span class="token operator">=</span> p <span class="token operator">+</span> y<span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> windowName<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> win <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>
            url<span class="token punctuation">,</span>
            <span class="token string">&quot;ZyiisPopup&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;top=&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;,left=&quot;</span> <span class="token operator">+</span>
            x <span class="token operator">+</span>
            <span class="token string">&quot;,scrollbars=&quot;</span> <span class="token operator">+</span>
            scrollbars <span class="token operator">+</span>
            <span class="token string">&quot;,dialog=yes,modal=yes,width=&quot;</span> <span class="token operator">+</span>
            width <span class="token operator">+</span>
            <span class="token string">&quot;,height=&quot;</span> <span class="token operator">+</span>
            height <span class="token operator">+</span>
            <span class="token string">&quot;,resizable=no&quot;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;try { win.resizeTo(width, height); } catch(e) { }&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        win<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="自适应页面（rem）"><a href="#自适应页面（rem）" aria-hidden="true" class="header-anchor">#</a> 自适应页面（rem）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { number } width
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">AutoResponse</span><span class="token punctuation">(</span><span class="token parameter">width <span class="token operator">=</span> <span class="token number">750</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
    target<span class="token punctuation">.</span>clientWidth <span class="token operator">&gt;=</span> <span class="token number">600</span>
        <span class="token operator">?</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token string">&quot;80px&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> target<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> width <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="日期工具date工具函数"><a href="#日期工具date工具函数" aria-hidden="true" class="header-anchor">#</a> 日期工具date工具函数</h2> <p>可以参考我的另一篇文章《前端的各种日期操作》（掘金链接：https://juejin.im/post/5e6cf42bf265da57397e3694），或者直接到我的GitHub查看</p> <h2 id="浏览器存储相关storage工具函数"><a href="#浏览器存储相关storage工具函数" aria-hidden="true" class="header-anchor">#</a> 浏览器存储相关storage工具函数</h2> <p>主要为浏览器存储方面的工具函数，大部分搬运自大神火狼1</p> <h3 id="localstorage-存贮"><a href="#localstorage-存贮" aria-hidden="true" class="header-anchor">#</a> localStorage 存贮</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 目前对象值如果是函数 、RegExp等特殊对象存贮会被忽略
 * @param { String } key  属性
 * @param { string } value 值
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">localStorageSet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="localstorage-获取"><a href="#localstorage-获取" aria-hidden="true" class="header-anchor">#</a> localStorage 获取</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">localStorageGet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="localstorage-移除"><a href="#localstorage-移除" aria-hidden="true" class="header-anchor">#</a> localStorage 移除</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">localStorageRemove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="localstorage-存贮某一段时间失效"><a href="#localstorage-存贮某一段时间失效" aria-hidden="true" class="header-anchor">#</a> localStorage 存贮某一段时间失效</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 * @param {*} value 存贮值
 * @param { number } expire 过期时间,毫秒数
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">localStorageSetExpire</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> expire</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> expire<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="sessionstorage-存贮"><a href="#sessionstorage-存贮" aria-hidden="true" class="header-anchor">#</a> sessionStorage 存贮</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 * @param {*} value 值
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">sessionStorageSet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="sessionstorage-获取"><a href="#sessionstorage-获取" aria-hidden="true" class="header-anchor">#</a> sessionStorage 获取</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">sessionStorageGet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="sessionstorage-删除"><a href="#sessionstorage-删除" aria-hidden="true" class="header-anchor">#</a> sessionStorage 删除</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">sessionStorageRemove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="sessionstorage-存贮某一段时间失效"><a href="#sessionstorage-存贮某一段时间失效" aria-hidden="true" class="header-anchor">#</a> sessionStorage 存贮某一段时间失效</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 * @param {*} value 存贮值
 * @param {String} expire 过期时间,毫秒数
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">sessionStorageSetExpire</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> expire</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> expire<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="cookie-存贮"><a href="#cookie-存贮" aria-hidden="true" class="header-anchor">#</a> cookie 存贮</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 * @param {*} value  值
 * @param { String } expire  过期时间,单位天
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">cookieSet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> expire</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    d<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> expire<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;expires=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="cookie-获取"><a href="#cookie-获取" aria-hidden="true" class="header-anchor">#</a> cookie 获取</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">cookieGet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cookieStr <span class="token operator">=</span> <span class="token function">unescape</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> arr <span class="token operator">=</span> cookieStr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'; '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> cookieValue <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cookieValue <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> cookieValue
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="cookie-删除"><a href="#cookie-删除" aria-hidden="true" class="header-anchor">#</a> cookie 删除</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {String} key  属性
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">cookieRemove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=;expires=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="更多的工具函数"><a href="#更多的工具函数" aria-hidden="true" class="header-anchor">#</a> 更多的工具函数</h2> <p>这里包含了平时可能常用的工具函数，包含数字，字符串，数组和对象等等操作。</p> <h3 id="金钱格式化，三位加逗号"><a href="#金钱格式化，三位加逗号" aria-hidden="true" class="header-anchor">#</a> 金钱格式化，三位加逗号</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { number } num
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">formatMoney</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\B(?=(\d{3})+(?!\d))/g</span><span class="token punctuation">,</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="截取字符串并加省略号"><a href="#截取字符串并加省略号" aria-hidden="true" class="header-anchor">#</a> 截取字符串并加省略号</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">subText</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> length<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取文件base64编码"><a href="#获取文件base64编码" aria-hidden="true" class="header-anchor">#</a> 获取文件base64编码</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param file
 * @param format  指定文件格式
 * @param size  指定文件大小(字节)
 * @param formatMsg 格式错误提示
 * @param sizeMsg   大小超出限制提示
 * @returns {Promise&lt;any&gt;}
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fileToBase64String</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> format <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'jpg'</span><span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">,</span> <span class="token string">'gif'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> size <span class="token operator">=</span> <span class="token number">20</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span> formatMsg <span class="token operator">=</span> <span class="token string">'文件格式不正确'</span><span class="token punctuation">,</span> sizeMsg <span class="token operator">=</span> <span class="token string">'文件大小超出限制'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 格式过滤</span>
        <span class="token keyword">let</span> suffix <span class="token operator">=</span> file<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> inFormat <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> format<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>suffix <span class="token operator">===</span> format<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                inFormat <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>inFormat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>formatMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 大小过滤</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>size <span class="token operator">&gt;</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>sizeMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 转base64字符串</span>
        <span class="token keyword">let</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileReader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileReader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> res <span class="token operator">=</span> fileReader<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>base64String<span class="token punctuation">:</span> res<span class="token punctuation">,</span> suffix<span class="token punctuation">:</span> suffix<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'异常文件，请重新选择'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="b转换到kb-mb-gb并保留两位小数"><a href="#b转换到kb-mb-gb并保留两位小数" aria-hidden="true" class="header-anchor">#</a> B转换到KB,MB,GB并保留两位小数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { number } fileSize
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">formatFileSize</span><span class="token punctuation">(</span><span class="token parameter">fileSize</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> temp<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>fileSize <span class="token operator">&lt;</span> <span class="token number">1024</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> fileSize <span class="token operator">+</span> <span class="token string">'B'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fileSize <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        temp <span class="token operator">=</span> fileSize <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">;</span>
        temp <span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> temp <span class="token operator">+</span> <span class="token string">'KB'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fileSize <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        temp <span class="token operator">=</span> fileSize <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        temp <span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> temp <span class="token operator">+</span> <span class="token string">'MB'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        temp <span class="token operator">=</span> fileSize <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        temp <span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> temp <span class="token operator">+</span> <span class="token string">'GB'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="base64转file"><a href="#base64转file" aria-hidden="true" class="header-anchor">#</a> base64转file</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { base64 } base64
 *  @param { string } filename 转换后的文件名
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">base64ToFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">base64<span class="token punctuation">,</span> filename</span> <span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> base64<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> mime <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/:(.*?);/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> suffix <span class="token operator">=</span> mime<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">;</span><span class="token comment">// 图片后缀</span>
    <span class="token keyword">let</span> bstr <span class="token operator">=</span> <span class="token function">atob</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> bstr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">let</span> u8arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        u8arr<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> bstr<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token punctuation">[</span>u8arr<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>suffix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> mime <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="base64转blob"><a href="#base64转blob" aria-hidden="true" class="header-anchor">#</a> base64转blob</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { base64 } base64
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">base64ToBlob</span> <span class="token operator">=</span> <span class="token parameter">base64</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> base64<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        mime <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/:(.*?);/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        bstr <span class="token operator">=</span> <span class="token function">atob</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        n <span class="token operator">=</span> bstr<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        u8arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        u8arr<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> bstr<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>u8arr<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> mime <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="blob转file"><a href="#blob转file" aria-hidden="true" class="header-anchor">#</a> blob转file</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { blob } blob
 *  @param { string } fileName
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">blobToFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">blob<span class="token punctuation">,</span> fileName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    blob<span class="token punctuation">.</span>lastModifiedDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    blob<span class="token punctuation">.</span>name <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
    <span class="token keyword">return</span> blob<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="file转base64"><a href="#file转base64" aria-hidden="true" class="header-anchor">#</a> file转base64</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { * } file 图片文件
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fileToBase64</span> <span class="token operator">=</span> <span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="根据pid生成树形结构"><a href="#根据pid生成树形结构" aria-hidden="true" class="header-anchor">#</a> 根据pid生成树形结构</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  @param { object } items 后台获取的数据
 *  @param { * } id 数据中的id
 *  @param { * } link 生成树形结构的依据
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> createTree <span class="token operator">=</span> <span class="token punctuation">(</span>items<span class="token punctuation">,</span> id <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> link <span class="token operator">=</span> <span class="token string">'pid'</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    items<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">[</span>link<span class="token punctuation">]</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>item<span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token function">createTree</span><span class="token punctuation">(</span>items<span class="token punctuation">,</span> item<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查询数组中是否存在某个元素并返回元素第一次出现的下标"><a href="#查询数组中是否存在某个元素并返回元素第一次出现的下标" aria-hidden="true" class="header-anchor">#</a> 查询数组中是否存在某个元素并返回元素第一次出现的下标</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/** 
 * @param {*} item 
 * @param { array } data
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">inArray</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="windows根据详细版本号判断当前系统名称"><a href="#windows根据详细版本号判断当前系统名称" aria-hidden="true" class="header-anchor">#</a> Windows根据详细版本号判断当前系统名称</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } osVersion 
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">OutOsName</span><span class="token punctuation">(</span><span class="token parameter">osVersion</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>osVersion<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> osVersion<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">&quot;5.0&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Win 2000&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">&quot;5.1&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Win XP&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">&quot;5.2&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Win XP64&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">&quot;6.0&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Win Vista&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">&quot;6.1&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Win 7&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">&quot;6.2&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Win 8&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">&quot;6.3&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Win 8.1&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">===</span> <span class="token string">&quot;10.&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Win 10&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Win&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="判断手机是andoird还是ios"><a href="#判断手机是andoird还是ios" aria-hidden="true" class="header-anchor">#</a> 判断手机是Andoird还是IOS</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *  0: ios
 *  1: android
 *  2: 其它
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getOSType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> u <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">,</span> app <span class="token operator">=</span> navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">;</span>
    <span class="token keyword">let</span> isAndroid <span class="token operator">=</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Android'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Linux'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> isIOS <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isIOS<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isAndroid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="函数防抖"><a href="#函数防抖" aria-hidden="true" class="header-anchor">#</a> 函数防抖</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { function } func
 * @param { number } wait 延迟执行毫秒数
 * @param { boolean } immediate  true 表立即执行，false 表非立即执行
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>wait<span class="token punctuation">,</span>immediate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timeout<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timeout<span class="token punctuation">;</span>
            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="函数节流"><a href="#函数节流" aria-hidden="true" class="header-anchor">#</a> 函数节流</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { function } func 函数
 * @param { number } wait 延迟执行毫秒数
 * @param { number } type 1 表时间戳版，2 表定时器版
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait <span class="token punctuation">,</span>type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> previous<span class="token punctuation">,</span> timeout<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        previous <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">===</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> previous <span class="token operator">&gt;</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
                previous <span class="token operator">=</span> now<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">===</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                    <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="判断数据类型"><a href="#判断数据类型" aria-hidden="true" class="header-anchor">#</a> 判断数据类型</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {*} target 
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> template <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;[object Array]&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;[object Object]&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;[object Number]&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;number - object&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;[object Boolean]&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;boolean - object&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;[object String]&quot;</span><span class="token punctuation">:</span><span class="token string">'string-object'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>target <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'null'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ret <span class="token operator">==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> template<span class="token punctuation">[</span>str<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="生成指定范围随机数"><a href="#生成指定范围随机数" aria-hidden="true" class="header-anchor">#</a> 生成指定范围随机数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { number } min 
 * @param { number } max 
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">RandomNum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>
</code></pre></div><h3 id="数组乱序"><a href="#数组乱序" aria-hidden="true" class="header-anchor">#</a> 数组乱序</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {array} arr
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">arrScrambling</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> array <span class="token operator">=</span> arr<span class="token punctuation">;</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        index <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> randomIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> middleware <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
        array<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>randomIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
        array<span class="token punctuation">[</span>randomIndex<span class="token punctuation">]</span> <span class="token operator">=</span> middleware
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> array
<span class="token punctuation">}</span>
</code></pre></div><h3 id="数组交集"><a href="#数组交集" aria-hidden="true" class="header-anchor">#</a> 数组交集</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { array} arr1
 * @param { array } arr2
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">similarity</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr1<span class="token punctuation">,</span> arr2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> arr2<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="数组中某元素出现的次数"><a href="#数组中某元素出现的次数" aria-hidden="true" class="header-anchor">#</a> 数组中某元素出现的次数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { array } arr
 * @param {*} value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">countOccurrences</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v <span class="token operator">===</span> value <span class="token operator">?</span> a <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">:</span> a <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="加法函数（精度丢失问题）"><a href="#加法函数（精度丢失问题）" aria-hidden="true" class="header-anchor">#</a> 加法函数（精度丢失问题）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { number } arg1
 * @param { number } arg2
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> r1<span class="token punctuation">,</span> r2<span class="token punctuation">,</span> m<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span> r1 <span class="token operator">=</span> arg1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> r1 <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span> r2 <span class="token operator">=</span> arg2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> r2 <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span>
    m <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>r1<span class="token punctuation">,</span> r2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>arg1 <span class="token operator">*</span> m <span class="token operator">+</span> arg2 <span class="token operator">*</span> m<span class="token punctuation">)</span> <span class="token operator">/</span> m
<span class="token punctuation">}</span>
</code></pre></div><h3 id="减法函数（精度丢失问题）"><a href="#减法函数（精度丢失问题）" aria-hidden="true" class="header-anchor">#</a> 减法函数（精度丢失问题）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { number } arg1
 * @param { number } arg2
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> r1<span class="token punctuation">,</span> r2<span class="token punctuation">,</span> m<span class="token punctuation">,</span> n<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span> r1 <span class="token operator">=</span> arg1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> r1 <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span> r2 <span class="token operator">=</span> arg2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> r2 <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span>
    m <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>r1<span class="token punctuation">,</span> r2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    n <span class="token operator">=</span> <span class="token punctuation">(</span>r1 <span class="token operator">&gt;=</span> r2<span class="token punctuation">)</span> <span class="token operator">?</span> r1 <span class="token punctuation">:</span> r2<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>arg1 <span class="token operator">*</span> m <span class="token operator">-</span> arg2 <span class="token operator">*</span> m<span class="token punctuation">)</span> <span class="token operator">/</span> m<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="除法函数（精度丢失问题）"><a href="#除法函数（精度丢失问题）" aria-hidden="true" class="header-anchor">#</a> 除法函数（精度丢失问题）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { number } num1
 * @param { number } num2
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">division</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span>num2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> t1<span class="token punctuation">,</span>t2<span class="token punctuation">,</span>r1<span class="token punctuation">,</span>r2<span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        t1 <span class="token operator">=</span> num1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        t1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        t2<span class="token operator">=</span>num2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        t2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    r1<span class="token operator">=</span><span class="token function">Number</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    r2<span class="token operator">=</span><span class="token function">Number</span><span class="token punctuation">(</span>num2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>r1<span class="token operator">/</span>r2<span class="token punctuation">)</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>t2<span class="token operator">-</span>t1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="乘法函数（精度丢失问题）"><a href="#乘法函数（精度丢失问题）" aria-hidden="true" class="header-anchor">#</a> 乘法函数（精度丢失问题）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { number } num1
 * @param { number } num2
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mcl</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span>num2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> m<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>s1<span class="token operator">=</span>num1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>s2<span class="token operator">=</span>num2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>m<span class="token operator">+=</span>s1<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>m<span class="token operator">+=</span>s2<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">Number</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="递归优化（尾递归）"><a href="#递归优化（尾递归）" aria-hidden="true" class="header-anchor">#</a> 递归优化（尾递归）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { function } f
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">tco</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value<span class="token punctuation">;</span>
    <span class="token keyword">let</span> active <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> accumulated <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">accumulator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accumulated<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            active <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>accumulated<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                value <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> accumulated<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            active <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="生成随机整数"><a href="#生成随机整数" aria-hidden="true" class="header-anchor">#</a> 生成随机整数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">randomNumInteger</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="去除空格"><a href="#去除空格" aria-hidden="true" class="header-anchor">#</a> 去除空格</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } str 待处理字符串
 * @param  { number } type 去除空格类型 1-所有空格  2-前后空格  3-前空格 4-后空格 默认为1
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\s/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(^\s)|(\s*$)/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(^\s)/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\s$)/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="大小写转换"><a href="#大小写转换" aria-hidden="true" class="header-anchor">#</a> 大小写转换</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { string } str 待转换的字符串
 * @param { number } type 1-全大写 2-全小写 3-首字母大写 其他-不转换
 */</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">turnCase</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="随机16进制颜色-hexcolor"><a href="#随机16进制颜色-hexcolor" aria-hidden="true" class="header-anchor">#</a> 随机16进制颜色 hexColor</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 方法一
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">hexColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'#'</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> index <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        str <span class="token operator">+=</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="随机16进制颜色-randomhexcolorcode"><a href="#随机16进制颜色-randomhexcolorcode" aria-hidden="true" class="header-anchor">#</a> 随机16进制颜色 randomHexColorCode</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 方法二
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">randomHexColorCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0xfffff</span> <span class="token operator">*</span> <span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">'#'</span> <span class="token operator">+</span> n<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="转义html-防xss攻击"><a href="#转义html-防xss攻击" aria-hidden="true" class="header-anchor">#</a> 转义html(防XSS攻击)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">escapeHTML</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>
        <span class="token regex">/[&amp;&lt;&gt;'&quot;]/g</span><span class="token punctuation">,</span>
        <span class="token parameter">tag</span> <span class="token operator">=&gt;</span>
            <span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token string">'&amp;'</span><span class="token punctuation">:</span> <span class="token string">'&amp;'</span><span class="token punctuation">,</span>
                <span class="token string">'&lt;'</span><span class="token punctuation">:</span> <span class="token string">'&lt;'</span><span class="token punctuation">,</span>
                <span class="token string">'&gt;'</span><span class="token punctuation">:</span> <span class="token string">'&gt;'</span><span class="token punctuation">,</span>
                <span class="token string">&quot;'&quot;</span><span class="token punctuation">:</span> <span class="token string">''</span>'<span class="token punctuation">,</span>
                <span class="token string">'&quot;'</span><span class="token punctuation">:</span> <span class="token string">'&quot;'</span>
            <span class="token punctuation">}</span><span class="token punctuation">[</span>tag<span class="token punctuation">]</span> <span class="token operator">||</span> tag<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="检测移动-pc设备"><a href="#检测移动-pc设备" aria-hidden="true" class="header-anchor">#</a> 检测移动/PC设备</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">detectDeviceType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token operator">/</span>Android<span class="token operator">|</span>webOS<span class="token operator">|</span>iPhone<span class="token operator">|</span>iPad<span class="token operator">|</span>iPod<span class="token operator">|</span>BlackBerry<span class="token operator">|</span>IEMobile<span class="token operator">|</span>Opera Mini<span class="token operator">/</span>i<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">'Mobile'</span> <span class="token punctuation">:</span> <span class="token string">'Desktop'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="隐藏所有指定标签"><a href="#隐藏所有指定标签" aria-hidden="true" class="header-anchor">#</a> 隐藏所有指定标签</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 例: hide(document.querySelectorAll('img'))
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">hideTag</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span>el<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="返回指定元素的生效样式"><a href="#返回指定元素的生效样式" aria-hidden="true" class="header-anchor">#</a> 返回指定元素的生效样式</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { element} el  元素节点
 * @param { string } ruleName  指定元素的名称
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getStyle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> ruleName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">[</span>ruleName<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="检查是否包含子元素"><a href="#检查是否包含子元素" aria-hidden="true" class="header-anchor">#</a> 检查是否包含子元素</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { element } parent
 * @param { element } child
 * @example elementContains(document.querySelector('head'), document.querySelector('title')); // true
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">elementContains</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> parent <span class="token operator">!==</span> child <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="数字超过规定大小加上加号“-”，如数字超过99显示99"><a href="#数字超过规定大小加上加号“-”，如数字超过99显示99" aria-hidden="true" class="header-anchor">#</a> 数字超过规定大小加上加号“+”，如数字超过99显示99+</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param { number } val 输入的数字
 * @param { number } maxNum 数字规定界限
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">outOfNum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> maxNum</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    val <span class="token operator">=</span> val <span class="token operator">?</span> val<span class="token operator">-</span><span class="token number">0</span> <span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&gt;</span> maxNum <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>maxNum<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">+</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="根据object对象的path路径获取值"><a href="#根据object对象的path路径获取值" aria-hidden="true" class="header-anchor">#</a> 根据object对象的path路径获取值</h3> <p>根据 <code>object</code>对象的<code>path</code>路径获取值。 如果解析 value 是 <code>undefined</code> 会以 <code>defaultValue</code> 取代。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 *
 * @param {*} obj 要检索的对象
 * @param {*} path 要获取属性的路径
 * @param {*} [defaultVal] 如果解析值是 undefined ，这值会被返回
 * @example
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 * deepGet(object, 'a[0].b.c'); =&gt; 3
 * deepGet(object, ['a', '0', 'b', 'c']); =&gt; 3
 * deepGet(object, 'a.b.c', 'default'); =&gt; default
 */</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> deepGet <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token punctuation">,</span> path<span class="token punctuation">,</span> defaultVal <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
      <span class="token operator">?</span> path
          <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\[/g</span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\]/</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span>
      <span class="token punctuation">:</span> path
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">o<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>o <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span> <span class="token operator">||</span> defaultVal
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取数据类型"><a href="#获取数据类型" aria-hidden="true" class="header-anchor">#</a> 获取数据类型</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取类型</span>
<span class="token keyword">const</span> getType <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> class2type <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'[object Boolean]'</span><span class="token punctuation">:</span> <span class="token string">'boolean'</span><span class="token punctuation">,</span> <span class="token string">'[object Number]'</span><span class="token punctuation">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token string">'[object String]'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'[object Function]'</span><span class="token punctuation">:</span> <span class="token string">'function'</span><span class="token punctuation">,</span> <span class="token string">'[object Array]'</span><span class="token punctuation">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span> <span class="token string">'[object Date]'</span><span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span> <span class="token string">'[object RegExp]'</span><span class="token punctuation">:</span> <span class="token string">'regexp'</span><span class="token punctuation">,</span> <span class="token string">'[object Object]'</span><span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span> <span class="token string">'[object Error]'</span><span class="token punctuation">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'[object Symbol]'</span><span class="token punctuation">:</span> <span class="token string">'symbol'</span> <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> obj <span class="token operator">+</span> <span class="token string">''</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// javascript高级程序设计中提供了一种方法,可以通用的来判断原始数据类型和引用数据类型</span>
        <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> class2type<span class="token punctuation">[</span>str<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'object'</span> <span class="token punctuation">:</span> <span class="token keyword">typeof</span> obj
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// </span>
<span class="token keyword">const</span> t1 <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token string">'avasd'</span><span class="token punctuation">)</span> <span class="token comment">// string</span>
</code></pre></div><h3 id="判断两个元素是否相等"><a href="#判断两个元素是否相等" aria-hidden="true" class="header-anchor">#</a> 判断两个元素是否相等</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取类型</span>
<span class="token keyword">const</span> getType <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> class2type <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'[object Boolean]'</span><span class="token punctuation">:</span> <span class="token string">'boolean'</span><span class="token punctuation">,</span> <span class="token string">'[object Number]'</span><span class="token punctuation">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token string">'[object String]'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'[object Function]'</span><span class="token punctuation">:</span> <span class="token string">'function'</span><span class="token punctuation">,</span> <span class="token string">'[object Array]'</span><span class="token punctuation">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span> <span class="token string">'[object Date]'</span><span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span> <span class="token string">'[object RegExp]'</span><span class="token punctuation">:</span> <span class="token string">'regexp'</span><span class="token punctuation">,</span> <span class="token string">'[object Object]'</span><span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span> <span class="token string">'[object Error]'</span><span class="token punctuation">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'[object Symbol]'</span><span class="token punctuation">:</span> <span class="token string">'symbol'</span> <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> obj <span class="token operator">+</span> <span class="token string">''</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// javascript高级程序设计中提供了一种方法,可以通用的来判断原始数据类型和引用数据类型</span>
        <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> class2type<span class="token punctuation">[</span>str<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'object'</span> <span class="token punctuation">:</span> <span class="token keyword">typeof</span> obj
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断两个元素是否相等
 * @param {any} o1 比较元素
 * @param {any} o2 其他元素
 * @returns {Boolean} 是否相等
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">isEqual</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">o1<span class="token punctuation">,</span> o2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> t1 <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span>
    <span class="token keyword">const</span> t2 <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span>

    <span class="token comment">// 比较类型是否一致</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>t1 <span class="token operator">!==</span> t2<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    
    <span class="token comment">// 类型一致</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>t1 <span class="token operator">===</span> <span class="token string">'array'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 首先判断数组包含元素个数是否相等</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o1<span class="token punctuation">.</span>length <span class="token operator">!==</span> o2<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span> 
        <span class="token comment">// 比较两个数组中的每个元素</span>
        <span class="token keyword">return</span> o1<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// return item === target</span>
            <span class="token keyword">return</span> <span class="token function">isEqual</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> o2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>t2 <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// object类型比较类似数组</span>
        <span class="token keyword">const</span> keysArr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>keysArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
        <span class="token comment">// 比较每一个元素</span>
        <span class="token keyword">return</span> keysArr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">k</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">isEqual</span><span class="token punctuation">(</span>o1<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> o2<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> o1 <span class="token operator">===</span> o2
<span class="token punctuation">}</span>

</code></pre></div><h3 id="数组去重"><a href="#数组去重" aria-hidden="true" class="header-anchor">#</a> 数组去重</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取类型</span>
<span class="token keyword">const</span> getType <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> class2type <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">'[object Boolean]'</span><span class="token punctuation">:</span> <span class="token string">'boolean'</span><span class="token punctuation">,</span> <span class="token string">'[object Number]'</span><span class="token punctuation">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token string">'[object String]'</span><span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'[object Function]'</span><span class="token punctuation">:</span> <span class="token string">'function'</span><span class="token punctuation">,</span> <span class="token string">'[object Array]'</span><span class="token punctuation">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span> <span class="token string">'[object Date]'</span><span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span> <span class="token string">'[object RegExp]'</span><span class="token punctuation">:</span> <span class="token string">'regexp'</span><span class="token punctuation">,</span> <span class="token string">'[object Object]'</span><span class="token punctuation">:</span> <span class="token string">'object'</span><span class="token punctuation">,</span> <span class="token string">'[object Error]'</span><span class="token punctuation">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'[object Symbol]'</span><span class="token punctuation">:</span> <span class="token string">'symbol'</span> <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> obj <span class="token operator">+</span> <span class="token string">''</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// javascript高级程序设计中提供了一种方法,可以通用的来判断原始数据类型和引用数据类型</span>
        <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> class2type<span class="token punctuation">[</span>str<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'object'</span> <span class="token punctuation">:</span> <span class="token keyword">typeof</span> obj
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断两个元素是否相等
 * @param {any} o1 比较元素
 * @param {any} o2 其他元素
 * @returns {Boolean} 是否相等
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">isEqual</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">o1<span class="token punctuation">,</span> o2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> t1 <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span>
    <span class="token keyword">const</span> t2 <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span>

    <span class="token comment">// 比较类型是否一致</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>t1 <span class="token operator">!==</span> t2<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    
    <span class="token comment">// 类型一致</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>t1 <span class="token operator">===</span> <span class="token string">'array'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 首先判断数组包含元素个数是否相等</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o1<span class="token punctuation">.</span>length <span class="token operator">!==</span> o2<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span> 
        <span class="token comment">// 比较两个数组中的每个元素</span>
        <span class="token keyword">return</span> o1<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// return item === target</span>
            <span class="token keyword">return</span> <span class="token function">isEqual</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> o2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>t2 <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// object类型比较类似数组</span>
        <span class="token keyword">const</span> keysArr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>keysArr<span class="token punctuation">.</span>length <span class="token operator">!==</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
        <span class="token comment">// 比较每一个元素</span>
        <span class="token keyword">return</span> keysArr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">k</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">isEqual</span><span class="token punctuation">(</span>o1<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> o2<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> o1 <span class="token operator">===</span> o2
<span class="token punctuation">}</span>

<span class="token comment">// 数组去重</span>
<span class="token keyword">const</span> <span class="token function-variable function">removeDuplicates</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">accumulator<span class="token punctuation">,</span> current</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> hasIndex <span class="token operator">=</span> accumulator<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token function">isEqual</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>hasIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            accumulator<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> accumulator
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试</span>
<span class="token function">removeDuplicates</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;meili&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// [123, {a: 1}, a: {b: 1}, {a: &quot;1&quot;}, &quot;meili&quot;, {a: 1, b: 2}]</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/24/2021, 3:57:36 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.ee223f02.js" defer></script><script src="/blog/assets/js/2.f364336e.js" defer></script><script src="/blog/assets/js/36.cbda8a08.js" defer></script>
  </body>
</html>
